[tasks.build-bin]
workspace = false
description = "Executa o script"
script = ["cargo build --release -p phlow-runtime"]

[tasks.packages]
workspace = false
description = "Empacota todos os m√≥dulos em ./modules"
script = ["chmod +x ./scripts/packages.sh", "./scripts/packages.sh"]

[tasks.env-build]
workspace = false
description = "Executa o container Docker phlow-environment"
script = [
    "docker build --target environment -t phlow-env -f ./docker/Dockerfile .",
]
args = []

[tasks.env]
workspace = false
description = "Executa o container Docker phlow-environment"
script = ["docker run -it --rm -v .:/app phlow-env ${@}"]

[tasks.example]
workspace = false
description = "Executa cargo run -p phlow-runtime -- examples/ARG"
script = ["cargo run -p phlow-runtime -- examples/${@}"]
args = []

[tasks.local]
workspace = false
description = "Executa ./scripts/local-packages.sh ARG"
script = [
    "chmod +x ./scripts/local-packages.sh",
    "./scripts/local-packages.sh ${@}",
]
args = []

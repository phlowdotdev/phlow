"use strict";(self.webpackChunkphlow_docs=self.webpackChunkphlow_docs||[]).push([[7394],{3655:(e,i,l)=>{l.r(i),l.d(i,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"phlow-structure/directives","title":"Special Directives","description":"Phlow introduces special YAML directives that enable advanced functionality for data manipulation and scripting. Below are the available directives, explained with detailed examples.","source":"@site/docs/phlow-structure/directives.md","sourceDirName":"phlow-structure","slug":"/phlow-structure/directives","permalink":"/docs/phlow-structure/directives","draft":false,"unlisted":false,"editUrl":"https://github.com/phlowdotdev/phlow/tree/main/site/docs/phlow-structure/directives.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Special Directives"},"sidebar":"docsSidebar","previous":{"title":"Steps","permalink":"/docs/phlow-structure/steps"},"next":{"title":"Phlow Scripts (.phs)","permalink":"/docs/phlow-structure/scripts"}}');var s=l(4848),t=l(8453);const c={sidebar_position:5,title:"Special Directives"},a=void 0,r={},d=[{value:"<code>!include</code>",id:"include",level:3},{value:"Basic Example:",id:"basic-example",level:4},{value:"Example with Multiple Includes:",id:"example-with-multiple-includes",level:4},{value:"Structure of the Included File (<code>modules.yaml</code>):",id:"structure-of-the-included-file-modulesyaml",level:4},{value:"<code>!phs</code>",id:"phs",level:3},{value:"Basic Example:",id:"basic-example-1",level:4},{value:"Example with Calculations:",id:"example-with-calculations",level:4},{value:"Example with Conditions:",id:"example-with-conditions",level:4},{value:"Example Calling Module Functions:",id:"example-calling-module-functions",level:4},{value:"<code>!import</code>",id:"import",level:3},{value:"Basic Example:",id:"basic-example-2",level:4},{value:"Example with Multiple Imports:",id:"example-with-multiple-imports",level:4},{value:"Structure of the Imported File (<code>scripts/condition.phs</code>):",id:"structure-of-the-imported-file-scriptsconditionphs",level:4},{value:"Conclusion",id:"conclusion",level:2},{value:"Additional Notes",id:"additional-notes",level:3}];function o(e){const i={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"Phlow introduces special YAML directives that enable advanced functionality for data manipulation and scripting. Below are the available directives, explained with detailed examples."}),"\n",(0,s.jsx)(i.h3,{id:"include",children:(0,s.jsx)(i.code,{children:"!include"})}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"!include"})," directive allows you to include the content of another YAML file. This is useful for organizing configurations or data into separate files and reusing them."]}),"\n",(0,s.jsx)(i.h4,{id:"basic-example",children:"Basic Example:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"modules: !include modules.yaml\n"})}),"\n",(0,s.jsx)(i.h4,{id:"example-with-multiple-includes",children:"Example with Multiple Includes:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"config:\n  database: !include configs/database.yaml\n  server: !include configs/server.yaml\n"})}),"\n",(0,s.jsxs)(i.h4,{id:"structure-of-the-included-file-modulesyaml",children:["Structure of the Included File (",(0,s.jsx)(i.code,{children:"modules.yaml"}),"):"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"- module1\n- module2\n- module3\n"})}),"\n",(0,s.jsx)(i.p,{children:"Resulting YAML:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"modules:\n  - module1\n  - module2\n  - module3\n"})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h3,{id:"phs",children:(0,s.jsx)(i.code,{children:"!phs"})}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"!phs"})," directive allows you to execute inline scripts directly within YAML. It is used to capture and manipulate variables, perform calculations, execute assertions dynamically, and even call functions from modules."]}),"\n",(0,s.jsx)(i.h4,{id:"basic-example-1",children:"Basic Example:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"assert: !phs main.force\nreturn: !phs `${main.name} is a student`\n"})}),"\n",(0,s.jsx)(i.h4,{id:"example-with-calculations",children:"Example with Calculations:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"calculated_value: !phs `${main.value} * 2`\nmessage: !phs `The result is ${main.result}`\n"})}),"\n",(0,s.jsx)(i.h4,{id:"example-with-conditions",children:"Example with Conditions:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"return: !phs `${main.score > 50 ? 'Pass' : 'Fail'}`\n"})}),"\n",(0,s.jsx)(i.h4,{id:"example-calling-module-functions",children:"Example Calling Module Functions:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:'payload: !phs `query("Select * from users where id = ${main.user_id}")`\n'})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h3,{id:"import",children:(0,s.jsx)(i.code,{children:"!import"})}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"!import"})," directive allows you to import a script file (",(0,s.jsx)(i.code,{children:".phs"}),") for evaluation. This is useful for reusing complex logic across different parts of the project."]}),"\n",(0,s.jsx)(i.h4,{id:"basic-example-2",children:"Basic Example:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"assert: !import scripts/condition.phs\n"})}),"\n",(0,s.jsx)(i.h4,{id:"example-with-multiple-imports",children:"Example with Multiple Imports:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"scripts:\n  validate: !import scripts/validate.phs\n  process: !import scripts/process.phs\n"})}),"\n",(0,s.jsxs)(i.h4,{id:"structure-of-the-imported-file-scriptsconditionphs",children:["Structure of the Imported File (",(0,s.jsx)(i.code,{children:"scripts/condition.phs"}),"):"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-phs",children:"if (main.value > 10) {\n  return true;\n} else {\n  return false;\n}\n"})}),"\n",(0,s.jsx)(i.p,{children:"Resulting YAML:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"assert: true\n"})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsxs)(i.p,{children:["These directives provide powerful tools for managing and manipulating data within Phlow. By using ",(0,s.jsx)(i.code,{children:"!include"}),", ",(0,s.jsx)(i.code,{children:"!phs"}),", and ",(0,s.jsx)(i.code,{children:"!import"}),", you can create modular, reusable, and maintainable workflows that enhance the overall functionality of your projects."]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsx)(i.h3,{id:"additional-notes",children:"Additional Notes"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Ensure that the paths provided in ",(0,s.jsx)(i.code,{children:"!include"})," and ",(0,s.jsx)(i.code,{children:"!import"})," are correct relative to the file where they are used."]}),"\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.code,{children:"!phs"})," directive can be used for both inline calculations and calling external scripts, making it versatile for various use cases."]}),"\n",(0,s.jsxs)(i.li,{children:["When using ",(0,s.jsx)(i.code,{children:"!import"}),", ensure that the script file is valid and contains the expected logic to avoid runtime errors."]}),"\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.code,{children:"!include"})," directive can be used to include YAML files, while ",(0,s.jsx)(i.code,{children:"!import"})," is specifically for ",(0,s.jsx)(i.code,{children:".phs"})," script files."]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,i,l)=>{l.d(i,{R:()=>c,x:()=>a});var n=l(6540);const s={},t=n.createContext(s);function c(e){const i=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(t.Provider,{value:i},e.children)}}}]);
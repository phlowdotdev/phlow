"use strict";(self.webpackChunkphlow_docs=self.webpackChunkphlow_docs||[]).push([[1967],{2921:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"packages-and-modules/module-type","title":"Module Types","description":"Phlow provides two types of modules: main and step.","source":"@site/docs/packages-and-modules/module-type.md","sourceDirName":"packages-and-modules","slug":"/packages-and-modules/module-type","permalink":"/docs/packages-and-modules/module-type","draft":false,"unlisted":false,"editUrl":"https://github.com/phlowdotdev/phlow/tree/main/docs/docs/packages-and-modules/module-type.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Module Types"},"sidebar":"docsSidebar","previous":{"title":"Introduction","permalink":"/docs/packages-and-modules/introduction"},"next":{"title":"Creating Your Own Module","permalink":"/docs/packages-and-modules/create-module"}}');var i=s(4848),l=s(8453);const o={sidebar_position:2,title:"Module Types"},r=void 0,d={},a=[{value:"Example: Step Module with Phlow Script (PHS)",id:"example-step-module-with-phlow-script-phs",level:3},{value:"main.yaml",id:"mainyaml",level:4},{value:"script.phs",id:"scriptphs",level:4}];function c(e){const n={blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Phlow provides two types of modules: ",(0,i.jsx)(n.code,{children:"main"})," and ",(0,i.jsx)(n.code,{children:"step"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Main Module"}),": Serves as the application's entry point, starting the app in different contexts such as HTTP, CLI, or AMQP."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Step Module"}),": Contains the logic executed within a flow, such as logging, data fetching, or transformations."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"These modules enable flexibility and reusability, making it easier to build modular and scalable applications."}),"\n",(0,i.jsx)(n.p,{children:"Step modules can also be executed directly from Phlow Script (PHS), making it easy to use simple modules inside .phs or .rhai files."}),"\n",(0,i.jsx)(n.h3,{id:"example-step-module-with-phlow-script-phs",children:"Example: Step Module with Phlow Script (PHS)"}),"\n",(0,i.jsx)(n.h4,{id:"mainyaml",children:"main.yaml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"main: cli\nname: Example Cli\nversion: 1.0.0\ndescription: Example CLI module\nauthor: Your Name\nmodules:\n  - module: cli\n    version: latest\n    with:\n      additional_args: false\n      args:\n        - name: name\n          description: Name of the user\n          index: 1\n          type: string\n          required: false\n  - module: log\n    version: latest\nsteps:\n  - return: !import script.phs\n"})}),"\n",(0,i.jsx)(n.h4,{id:"scriptphs",children:"script.phs"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'log("warn", `Hello, ${main.name}`);\n"phs"\n'})}),"\n",(0,i.jsx)(n.p,{children:"To execute this file, just run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"2025-04-23T05:23:25.474573Z  WARN log: Hello, Phlow!\nphs\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will evaluate the imported .phs file and run the steps using the declared modules."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u2139\ufe0f ",(0,i.jsx)(n.strong,{children:"Note:"})," In Phlow Script (PHS), function calls respect the ",(0,i.jsx)(n.strong,{children:"order of parameters"})," defined in the module's package. For example, if your ",(0,i.jsx)(n.code,{children:"phlow.yaml"})," for the ",(0,i.jsx)(n.code,{children:"log"})," module defines inputs like:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"input: \n  type: object\n  required: true\n  properties:\n    level:\n      type: string\n      description: The log level (e.g., info, debug, warn, error).\n      default: info\n      required: false\n    message:\n      type: string\n      description: The message to log.\n      required: true\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then the correct function signature in ",(0,i.jsx)(n.code,{children:".phs"})," is:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-phs",children:"log(level, message)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["because the parameter order defined in ",(0,i.jsx)(n.code,{children:"properties"})," is preserved and required by the execution engine."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>r});var t=s(6540);const i={},l=t.createContext(i);function o(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);